<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ –°–µ–∫–∞</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<style>
    /* –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ */
body {
    margin: 0;
    padding: 0;
    height: 100vh;
    background-color: #0a1a3a;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    font-family: 'Arial Narrow', Arial, sans-serif;
    position: relative;
}

.main-area {
    flex: 1;
    position: relative;
    height: 80vh;
}

/* –ö–Ω–æ–ø–∫–∞ –º–µ–Ω—é */
.menu-button {
    position: absolute;
    top: 15px;
    left: 35px;
    width: 40px;
    height: 40px;
    background-color: white;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
}

/* –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –±–ª–æ–∫ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ö–æ–¥–µ */
.center-block {
    position: absolute;
    top: 15px;
    left: 50%;
    transform: translateX(-50%);
    width: 520px;
    height: 40px;
    background-color: white;
    border-radius: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 90;
}

.player-turn-info {
    font-size: 16px;
    font-weight: normal;
    color: #333;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 90%;
}

/* –ö–Ω–æ–ø–∫–∏ –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É */
.top-right-buttons {
    position: absolute;
    top: 15px;
    right: 35px;
    display: flex;
    gap: 10px;
    z-index: 100;
}

.sound-button, .exit-button {
    width: 40px;
    height: 40px;
    border: none;
    border-radius: 50%;
    background-color: white;
    cursor: pointer;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
}

/* –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é */
.dropdown-menu {
    position: absolute;
    top: 60px;
    left: 15px;
    background-color: rgba(255, 255, 255, 0.9);
    border-radius: 5px;
    padding: 10px 0;
    width: 200px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    z-index: 100;
}

.dropdown-menu a {
    display: block;
    padding: 10px 20px;
    color: #333;
    text-decoration: none;
    font-weight: normal;
}

.dropdown-menu a:hover {
    background-color: #f0f0f0;
}

/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏–≥—Ä—ã */
.game-title {
    position: absolute;
    top: 20%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #FFD700;
    font-size: 48px;
    font-weight: normal;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    z-index: 50;
}

/* –ë–ª–æ–∫ –∏–≥—Ä–æ–∫–æ–≤ */
.players-container {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    display: flex;
    justify-content: space-between;
    z-index: 50;
}

.players-left, .players-right {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.player-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100px;
    transition: all 0.3s ease;
    opacity: 0.6;
}

.player-card.active {
    opacity: 1;
}

.player-avatar {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background-color: #ccc;
    background-size: cover;
    background-position: center;
    border: 2px solid #FFD700;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
    font-size: 20px;
}

.player-action {
    margin-top: 5px;
    background-color: rgba(0, 0, 0, 0.3);
    padding: 4px 10px;
    border-radius: 15px;
    color: white;
    font-size: 12px;
    text-align: center;
    min-width: 70px;
}

.player-name {
    margin-top: 5px;
    color: white;
    font-size: 14px;
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 100px;
}

.player-balance {
    margin-top: 3px;
    color: #FFD700;
    font-size: 12px;
    text-align: center;
}

/* –ë–∞–Ω–∫ */
.bank-title {
    position: absolute;
    top: 80%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #FFD700;
    font-size: 24px;
    font-weight: normal;
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
    z-index: 50;
}

.bank-amount {
    position: absolute;
    top: 85%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: rgba(0, 0, 0, 0.3);
    padding: 8px 20px;
    border-radius: 20px;
    color: white;
    font-size: 18px;
    font-weight: normal;
    z-index: 50;
}

/* –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å */
.bottom-panel {
    height: 20vh;
    background-color: #020c21;
    border-top: 2px solid #fff;
}

/* –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π */
.action-button {
    position: fixed;
    bottom: 100px;
    padding: 12px 24px;
    border: none;
    border-radius: 20px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    z-index: 100;
    color: white;
}

.action-button:nth-child(1) {
    left: calc(50% - 120px);
    background-color: #4CAF50;
}

.action-button:nth-child(2) {
    left: calc(50% + 20px);
    background-color: #F44336;
}

.action-button:hover {
    opacity: 0.9;
    transform: scale(1.05);
}

/* –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö */
.error-message {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    background-color: #F44336;
    color: white;
    padding: 10px 20px;
    border-radius: 5px;
    z-index: 1000;
    animation: fadeIn 0.3s;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}

@keyframes fadeIn {
    from { opacity: 0; top: 0; }
    to { opacity: 1; top: 20px; }
}

/* –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞ */
.current-player {
    transform: scale(1.05);
    box-shadow: 0 0 15px gold;
    opacity: 1 !important;
}

/* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –º–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ */
@media (max-width: 768px) {
    .center-block {
        width: 80%;
        height: 35px;
    }
    
    .game-title {
        font-size: 36px;
        top: 15%;
    }
    
    .bank-title {
        font-size: 20px;
        top: 75%;
    }
    
    .bank-amount {
        font-size: 16px;
        top: 80%;
    }
    
    .player-card {
        width: 80px;
    }
    
    .player-avatar {
        width: 50px;
        height: 50px;
        font-size: 16px;
    }
    
    .player-action {
        font-size: 10px;
        min-width: 60px;
    }
    
    .player-name {
        font-size: 12px;
    }
    
    .player-balance {
        font-size: 10px;
    }
    
    .action-button {
        bottom: 80px;
        padding: 10px 20px;
        font-size: 14px;
    }
    
    .action-button:nth-child(1) {
        left: calc(50% - 110px);
    }
    
    .action-button:nth-child(2) {
        left: calc(50% + 10px);
    }
}

@media (max-width: 480px) {
    .game-title {
        font-size: 28px;
    }
    
    .bank-title {
        font-size: 18px;
    }
    
    .bank-amount {
        font-size: 14px;
        padding: 6px 15px;
    }
    
    .player-turn-info {
        font-size: 14px;
    }
    
    .players-container {
        width: 95%;
    }
    
    .player-card {
        width: 70px;
    }
    
    .player-avatar {
        width: 40px;
        height: 40px;
        font-size: 14px;
    }
    
    .action-button {
        bottom: 60px;
        padding: 8px 16px;
        font-size: 12px;
    }
    
    .action-button:nth-child(1) {
        left: calc(50% - 100px);
    }
    
    .action-button:nth-child(2) {
        left: calc(50%);
    }
}
</style>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // SocketHandler (–±—ã–≤—à–∏–π gameplay/socket-handler.js)
        class SocketHandler {
            constructor() {
                this.socket = null;
                this.messageHandler = null;
            }

            init(playerId, messageHandler) {
                if (!playerId) {
                    console.warn("Player ID not provided - running in demo mode");
                    return;
                }

                this.messageHandler = messageHandler;
                const protocol = window.location.protocol === 'https:' ? 'wss://' : 'ws://';
                const host = window.location.host || 'localhost:8080';
                this.socket = new WebSocket(`${protocol}${host}/ws/${playerId}`);

                this.setupEventHandlers();
            }

            setupEventHandlers() {
                this.socket.onopen = () => {
                    console.log("WebSocket connected");
                    this.send('player_connected');
                };

                this.socket.onmessage = (event) => {
                    try {
                        const message = JSON.parse(event.data);
                        this.messageHandler?.(message);
                    } catch (e) {
                        console.error("Error parsing message:", e);
                    }
                };

                this.socket.onclose = () => {
                    console.log("WebSocket disconnected");
                    this.messageHandler?.({ type: 'error', text: '–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ—Ç–µ—Ä—è–Ω–æ' });
                };

                this.socket.onerror = (error) => {
                    console.error("WebSocket error:", error);
                    this.messageHandler?.({ type: 'error', text: '–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è' });
                };
            }

            send(action, data = {}) {
                if (this.socket?.readyState === WebSocket.OPEN) {
                    this.socket.send(JSON.stringify({ action, ...data }));
                } else {
                    console.warn("WebSocket not ready");
                }
            }
        }

        // GameController (–±—ã–≤—à–∏–π gameplay/game-controller.js)
        class GameController {
            constructor(uiManager, socketHandler) {
                this.ui = uiManager;
                this.socket = socketHandler;
                this.currentPlayerId = null;
                this.gameState = {
                    bankAmount: 0,
                    currentTurn: "–û–∂–∏–¥–∞–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤...",
                    players: []
                };
            }

            async init() {
                this.detectEnvironment();
                this.ui.setController(this);
                
                if (this.isTelegram) {
                    this.initTelegramUser();
                    this.ui.setExitHandler(() => Telegram.WebApp.close());
                } else {
                    this.ui.setExitHandler(() => window.close());
                    this.mockGameData();
                }

                try {
                    await this.connectToGame();
                    this.ui.initUI();
                } catch (error) {
                    this.ui.showError("–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–≥—Ä–µ");
                    console.error("Game init error:", error);
                }
            }

            detectEnvironment() {
                this.isTelegram = !!(window.Telegram && Telegram.WebApp);
            }

            initTelegramUser() {
                const tgUser = Telegram.WebApp.initDataUnsafe?.user;
                if (tgUser) {
                    this.currentPlayerId = tgUser.id.toString();
                    this.ui.setCurrentPlayer({
                        id: this.currentPlayerId,
                        first_name: tgUser.first_name || `–ò–≥—Ä–æ–∫ ${tgUser.id}`,
                        photo_url: tgUser.photo_url
                    });
                } else {
                    // –î–µ–º–æ-—Ä–µ–∂–∏–º –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞
                    this.currentPlayerId = "1";
                    this.ui.setCurrentPlayer({
                        id: "1",
                        first_name: "–í—ã (–¥–µ–º–æ)",
                        photo_url: null
                    });
                }
            }

            async connectToGame() {
                if (this.isTelegram) {
                    this.socket.init(this.currentPlayerId, this.handleSocketMessage.bind(this));
                }
            }

            handleSocketMessage(message) {
                switch (message.type) {
                    case 'game_state':
                        this.updateGameState(message.data);
                        break;
                    case 'player_update':
                        this.updatePlayer(message.data);
                        break;
                    case 'error':
                        this.ui.showError(message.text);
                        break;
                    default:
                        console.log("Unknown message type:", message.type);
                }
            }

            updateGameState(state) {
                this.gameState = {
                    ...this.gameState,
                    ...state,
                    players: state.players || this.gameState.players
                };
                this.ui.updateGameState(this.gameState);
            }

            updatePlayer(playerData) {
                this.ui.updatePlayer(playerData);
            }

            mockGameData() {
                // –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                this.updateGameState({
                    bankAmount: 1250,
                    currentTurn: "–í–∞—à —Ö–æ–¥",
                    players: Array.from({length: 6}, (_, i) => ({
                        id: (i + 1).toString(),
                        first_name: i === 0 ? "–í—ã (–¥–µ–º–æ)" : `–ò–≥—Ä–æ–∫ ${i + 1}`,
                        balance: 1000 + Math.floor(Math.random() * 2000),
                        action: i === 0 ? "–í–∞—à —Ö–æ–¥" : ["–û–∂–∏–¥–∞–Ω–∏–µ", "–°—Ç–∞–≤–∫–∞", "–ü–∞—Å"][Math.floor(Math.random() * 3)],
                        is_current: i === 0,
                        photo_url: null
                    }))
                });

                // –ò–º–∏—Ç–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã
                setInterval(() => {
                    const newBank = this.gameState.bankAmount + Math.floor(Math.random() * 100);
                    const currentPlayerIndex = Math.floor(Math.random() * 6);
                    
                    this.updateGameState({
                        bankAmount: newBank,
                        currentTurn: currentPlayerIndex === 0 ? "–í–∞—à —Ö–æ–¥" : `–•–æ–¥ –ò–≥—Ä–æ–∫–∞ ${currentPlayerIndex + 1}`,
                        players: this.gameState.players.map((p, i) => ({
                            ...p,
                            action: i === currentPlayerIndex ? "–î—É–º–∞–µ—Ç..." : 
                                   ["–û–∂–∏–¥–∞–Ω–∏–µ", "–°—Ç–∞–≤–∫–∞", "–ü–∞—Å"][Math.floor(Math.random() * 3)],
                            is_current: i === currentPlayerIndex,
                            balance: i === currentPlayerIndex ? p.balance - 50 : p.balance
                        }))
                    });
                }, 5000);
            }

            placeBet(amount) {
                if (this.isTelegram) {
                    this.socket.send('place_bet', { amount });
                } else {
                    this.ui.showError(`–°—Ç–∞–≤–∫–∞ ${amount} (–≤ Telegram –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞)`);
                    this.updateGameState({
                        players: this.gameState.players.map(p => 
                            p.id === this.currentPlayerId 
                                ? { ...p, action: "–°—Ç–∞–≤–∫–∞", balance: p.balance - amount }
                                : p
                        )
                    });
                }
            }

            fold() {
                if (this.isTelegram) {
                    this.socket.send('fold', {});
                } else {
                    this.ui.showError("–ü–∞—Å (–≤ Telegram –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω)");
                    this.updateGameState({
                        players: this.gameState.players.map(p => 
                            p.id === this.currentPlayerId 
                                ? { ...p, action: "–ü–∞—Å" }
                                : p
                        )
                    });
                }
            }
        }

        // React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–±—ã–≤—à–∏–π gameplay/ui-manager.js)
        function getRandomColor() {
            const colors = ['#FF5733', '#33FF57', '#3357FF', '#F333FF', '#33FFF3'];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        function getActionColor(action) {
            const colors = {
                '–°—Ç–∞–≤–∫–∞': 'rgba(76, 175, 80, 0.3)',
                '–ü–∞—Å': 'rgba(244, 67, 54, 0.3)',
                '–î—É–º–∞–µ—Ç...': 'rgba(255, 235, 59, 0.3)',
                '–í–∞—à —Ö–æ–¥': 'rgba(33, 150, 243, 0.3)',
                'default': 'rgba(0, 0, 0, 0.3)'
            };
            return colors[action] || colors.default;
        }

        function PlayerCard({ player, isCurrent }) {
            const avatarStyle = player.photo_url 
                ? { backgroundImage: `url(${player.photo_url})` }
                : { 
                    backgroundColor: getRandomColor(),
                    color: 'white',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center'
                };

            return (
                <div className={`player-card ${isCurrent ? 'current-player active' : ''}`}>
                    <div className="player-avatar" style={avatarStyle}>
                        {!player.photo_url && (player.first_name?.[0] || '?')}
                    </div>
                    <div className="player-action" style={{ backgroundColor: getActionColor(player.action) }}>
                        {player.action || '–û–∂–∏–¥–∞–Ω–∏–µ'}
                    </div>
                    <div className="player-name">{player.first_name}</div>
                    <div className="player-balance">$ {player.balance?.toLocaleString('ru-RU') || '0'}</div>
                </div>
            );
        }

        function App() {
            const [menuOpen, setMenuOpen] = React.useState(false);
            const [gameState, setGameState] = React.useState({
                bankAmount: 0,
                currentTurn: "–û–∂–∏–¥–∞–Ω–∏–µ –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã...",
                players: []
            });
            const [currentPlayer, setCurrentPlayer] = React.useState(null);
            const [showActions, setShowActions] = React.useState(false);
            const [error, setError] = React.useState(null);
            
            const controllerRef = React.useRef(null);
            const socketRef = React.useRef(null);

            React.useEffect(() => {
                const uiManager = {
                    setController: (controller) => {
                        controllerRef.current = controller;
                    },
                    setExitHandler: (handler) => {
                        // –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã—Ö–æ–¥–∞ –∫ –∫–Ω–æ–ø–∫–µ
                        const exitButton = document.querySelector('.exit-button');
                        if (exitButton) {
                            exitButton.onclick = handler;
                        }
                    },
                    setCurrentPlayer: (player) => {
                        setCurrentPlayer(player);
                    },
                    initUI: () => {
                        console.log("UI initialized");
                    },
                    updateGameState: (state) => {
                        setGameState(state);
                        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π, –µ—Å–ª–∏ —Ç–µ–∫—É—â–∏–π –∏–≥—Ä–æ–∫ - —ç—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
                        const isCurrentPlayer = state.players.some(p => 
                            p.is_current && p.id === currentPlayer?.id
                        );
                        setShowActions(isCurrentPlayer);
                    },
                    updatePlayer: (playerData) => {
                        setGameState(prev => ({
                            ...prev,
                            players: prev.players.map(p => 
                                p.id === playerData.id ? { ...p, ...playerData } : p
                            )
                        }));
                    },
                    showError: (message) => {
                        setError(message);
                        setTimeout(() => setError(null), 3000);
                    }
                };

                socketRef.current = new SocketHandler();
                const controller = new GameController(uiManager, socketRef.current);
                controller.init();

                return () => {
                    // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
                    if (socketRef.current?.socket) {
                        socketRef.current.socket.close();
                    }
                };
            }, []);

            const handleBet = () => {
                const amount = prompt("–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É —Å—Ç–∞–≤–∫–∏:", "10");
                if (amount && !isNaN(amount)) {
                    controllerRef.current?.placeBet(parseInt(amount));
                }
            };

            const handleFold = () => {
                if (confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –∫–∞—Ä—Ç—ã?")) {
                    controllerRef.current?.fold();
                }
            };

            return (
                <div className="main-area">
                    <button className="menu-button" onClick={() => setMenuOpen(!menuOpen)}>‚ò∞</button>
                    
                    <div className="center-block">
                        <div className="player-turn-info">
                            {gameState.currentTurn}
                        </div>
                    </div>
                    
                    <div className="top-right-buttons">
                        <button className="sound-button">üîä</button>
                        <button className="exit-button">‚úï</button>
                    </div>
                    
                    {menuOpen && (
                        <div className="dropdown-menu" onClick={() => setMenuOpen(false)}>
                            <a href="#">üìú–ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã</a>
                            <a href="#">üìä–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</a>
                            <a href="#">üë•–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–≥–∞</a>
                        </div>
                    )}
                    
                    <div className="game-title">–°–µ–∫–∞</div>
                    
                    <div className="players-container">
                        <div className="players-left">
                            {gameState.players.slice(0, 3).map((player) => (
                                <PlayerCard 
                                    key={player.id} 
                                    player={player} 
                                    isCurrent={player.is_current} 
                                />
                            ))}
                        </div>
                        <div className="players-right">
                            {gameState.players.slice(3, 6).map((player) => (
                                <PlayerCard 
                                    key={player.id} 
                                    player={player} 
                                    isCurrent={player.is_current} 
                                />
                            ))}
                        </div>
                    </div>
                    
                    <div className="bank-title">–ë–∞–Ω–∫</div>
                    <div className="bank-amount">$ {gameState.bankAmount.toLocaleString('ru-RU')}</div>
                    
                    <div className="bottom-panel"></div>

                    {showActions && (
                        <>
                            <button 
                                className="action-button" 
                                style={{ left: 'calc(50% - 120px)', backgroundColor: '#4CAF50' }}
                                onClick={handleBet}
                            >
                                –°—Ç–∞–≤–∫–∞
                            </button>
                            <button 
                                className="action-button" 
                                style={{ left: 'calc(50% + 20px)', backgroundColor: '#F44336' }}
                                onClick={handleFold}
                            >
                                –ü–∞—Å
                            </button>
                        </>
                    )}

                    {error && (
                        <div className="error-message">
                            {error}
                        </div>
                    )}
                </div>
            );
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(<App />);
        });
    </script>
</body>
</html>